<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Happy Valentines</title>
    
    <style>
        /* --- Dark Romantic Theme Styles --- */
        :root {
            --bg-dark: #050505;
            --bg-light: #1a1a1a;
            --red-love: #e60000;
            --red-dark: #8b0000;
            --text-main: #f0f0f0;
            --text-dim: #aaaaaa;
        }
        
        body, html {
            margin: 0;
            padding: 0;
            height: 100%;
            font-family: 'Times New Roman', Times, serif;
            background: linear-gradient(135deg, var(--bg-dark), var(--bg-light), #150000);
            background-size: 400% 400%;
            animation: gradientBG 15s ease infinite;
            overflow: hidden; 
            display: flex;
            justify-content: center;
            align-items: center;
            text-align: center;
            color: var(--text-main);
        }

        @keyframes gradientBG {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        #effects-container {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            pointer-events: none; z-index: 1; overflow: hidden;
        }

        /* --- Dark Glassmorphism Pages --- */
        .page {
            display: none; 
            flex-direction: column;
            align-items: center;
            justify-content: flex-start; 
            width: 90%;
            max-width: 700px;
            max-height: 85vh; 
            overflow-y: auto; 
            background: rgba(15, 15, 15, 0.85);
            backdrop-filter: blur(15px);
            -webkit-backdrop-filter: blur(15px);
            border: 1px solid rgba(230, 0, 0, 0.3);
            padding: 40px;
            border-radius: 15px;
            box-shadow: 0 20px 50px rgba(0, 0, 0, 0.8), 0 0 20px rgba(139, 0, 0, 0.4);
            z-index: 10;
            transition: opacity 0.5s ease-in-out;
            box-sizing: border-box;
            position: relative; /* Needed for absolute positioning of back button */
        }
        
        .page::-webkit-scrollbar { width: 8px; }
        .page::-webkit-scrollbar-track { background: transparent; }
        .page::-webkit-scrollbar-thumb { background-color: var(--red-dark); border-radius: 10px; }

        .page.active { display: flex; animation: fadeIn 0.6s cubic-bezier(0.25, 0.8, 0.25, 1); }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }

        h1 { 
            color: var(--red-love); 
            font-size: 3em; 
            margin-bottom: 10px; 
            margin-top: 0;
            text-shadow: 2px 2px 10px rgba(230,0,0,0.3);
            text-transform: uppercase;
            letter-spacing: 2px;
        }
        h2 { color: var(--text-main); font-size: 2em; margin-bottom: 20px; font-weight: normal; font-style: italic;}
        p { font-size: 1.3em; }
        p.subtitle { color: var(--text-dim); font-style: italic; margin-bottom: 30px; margin-top: 10px; }

        /* --- Inputs & Buttons --- */
        input[type="password"] {
            padding: 15px 25px;
            font-size: 20px;
            font-family: 'Times New Roman', Times, serif;
            color: var(--red-love);
            border: 1px solid var(--red-dark);
            border-radius: 5px;
            margin-bottom: 20px;
            outline: none;
            text-align: center;
            background: rgba(0, 0, 0, 0.6);
            box-shadow: inset 0 2px 5px rgba(0,0,0,0.5);
            transition: border-color 0.3s, box-shadow 0.3s, background 0.3s;
        }
        input[type="password"]:focus { 
            border-color: var(--red-love); 
            background: rgba(20, 0, 0, 0.8);
            box-shadow: 0 0 15px rgba(230, 0, 0, 0.4); 
        }

        .btn {
            padding: 15px 35px;
            font-size: 1.2em;
            font-family: 'Times New Roman', Times, serif;
            letter-spacing: 1px;
            background: linear-gradient(45deg, var(--red-dark), #5a0000);
            color: white;
            border: 1px solid var(--red-love);
            border-radius: 5px;
            cursor: pointer;
            transition: transform 0.3s, box-shadow 0.3s, background 0.3s;
            margin: 10px;
            flex-shrink: 0;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.5);
        }
        .btn:hover { 
            transform: translateY(-2px); 
            background: linear-gradient(45deg, var(--red-love), var(--red-dark));
            box-shadow: 0 8px 20px rgba(230, 0, 0, 0.4); 
        }

        .heart-btn {
            font-size: 1.5em; font-family: 'Times New Roman', Times, serif;
            padding: 15px 40px; background: transparent;
            color: var(--red-love); border: 2px solid var(--red-love); border-radius: 5px; cursor: pointer;
            margin: 15px; box-shadow: 0 8px 20px rgba(0, 0, 0, 0.4);
            transition: transform 0.3s, background 0.3s, color 0.3s;
        }
        .heart-btn:hover { 
            transform: scale(1.05); 
            background: var(--red-love);
            color: white;
            box-shadow: 0 0 20px rgba(230, 0, 0, 0.6);
        }

        /* New Back Button Style */
        .back-btn {
            position: absolute;
            top: 20px;
            left: 20px;
            background: transparent;
            border: none;
            color: var(--text-dim);
            font-family: 'Times New Roman', Times, serif;
            font-size: 1.1em;
            cursor: pointer;
            transition: color 0.3s;
            z-index: 20;
        }
        .back-btn:hover { color: var(--red-love); text-decoration: underline; }


        /* --- Image Holders --- */
        .img-container { margin: 20px auto; max-width: 90%; width: 300px; }
        .img-container img {
            width: 100%; height: auto; border-radius: 5px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.8); border: 1px solid var(--red-dark); display: block;
        }
        
        /* New Big Image Style for Proposal */
        .big-proposal-pic { width: 100%; max-width: 500px; margin: 30px auto; }
        .big-proposal-pic img { width: 100%; height: auto; border-radius: 10px; border: 2px solid var(--red-love); box-shadow: 0 15px 40px rgba(0,0,0,0.9); display: block;}


        /* --- Flex Containers --- */
        .flex-row { display: flex; justify-content: center; gap: 20px; flex-wrap: wrap; margin: 30px 0; width: 100%; }
        .gift-box, .game-heart {
            width: 130px; height: 130px; cursor: pointer; transition: transform 0.3s, filter 0.3s; position: relative;
        }
        .gift-box:hover, .game-heart:hover { transform: scale(1.05) translateY(-5px); filter: drop-shadow(0 10px 15px rgba(230,0,0,0.3)); }
        .gift-box.disabled { opacity: 0.3; cursor: not-allowed; transform: none; filter: grayscale(100%); }
        .gift-box img, .game-heart img { width: 100%; height: 100%; object-fit: cover; border-radius: 5px; border: 1px solid var(--red-dark); box-shadow: 0 5px 15px rgba(0,0,0,0.5);}

        /* --- Envelopes (Adjusted for Dark Theme) --- */
        .envelope-wrapper {
            position: relative; width: 160px; height: 110px; background: var(--red-dark);
            margin: 60px 10px 20px 10px; cursor: pointer; border-radius: 0 0 3px 3px;
            box-shadow: 0 10px 20px rgba(0,0,0,0.6); transition: transform 0.3s;
        }
        .envelope-wrapper:hover { transform: translateY(-5px); box-shadow: 0 15px 25px rgba(230,0,0,0.2); }
        .env-flap {
            position: absolute; top: 0; left: 0; width: 0; height: 0;
            border-left: 80px solid transparent; border-right: 80px solid transparent; border-top: 65px solid #5a0000;
            z-index: 4; transform-origin: top; transition: transform 0.4s ease-in-out, z-index 0.4s;
        }
        .env-pocket {
            position: absolute; bottom: 0; left: 0; width: 0; height: 0;
            border-left: 80px solid #7a0000; border-right: 80px solid #7a0000;
            border-bottom: 55px solid var(--red-dark); border-top: 55px solid transparent;
            z-index: 3; border-radius: 0 0 3px 3px;
        }
        .env-letter {
            position: absolute; bottom: 5px; left: 5px; right: 5px; height: 95px;
            background: #e0e0e0; z-index: 2; transition: transform 0.5s ease-in-out 0.2s, height 0.5s ease-in-out 0.2s;
            padding: 15px; box-sizing: border-box; display: flex; align-items: center; justify-content: center;
            text-align: center; font-size: 11px; color: #000; border: 1px solid #ccc; border-radius: 2px; box-shadow: inset 0 0 10px rgba(0,0,0,0.1);
        }
        .envelope-wrapper.open .env-flap { transform: rotateX(180deg); z-index: 1; }
        .envelope-wrapper.open .env-letter {
            transform: translateY(-110px); z-index: 5; height: 180px; font-size: 14px; color: var(--red-dark);
        }

        /* --- Huge Custom Modals --- */
        .modal-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.9); backdrop-filter: blur(5px); z-index: 1000;
            display: none; align-items: center; justify-content: center; opacity: 0; transition: opacity 0.3s ease;
        }
        .modal-content {
            background: var(--bg-light); padding: 50px; border-radius: 10px; max-width: 80%; text-align: center;
            box-shadow: 0 20px 50px rgba(0,0,0,0.9), 0 0 30px rgba(230,0,0,0.2); border: 1px solid var(--red-love);
            transform: scale(0.7); transition: transform 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }
        .huge-notice-text { 
            font-size: 3.5em; color: var(--red-love); margin: 0 0 30px 0; line-height: 1.1; letter-spacing: 1px;
        }

        .ultra-big-img { position: fixed; top:0; left:0; width: 100%; height: 100%; z-index: 2000; display: none; background: black;}
        .ultra-big-img img { width: 100%; height: 100%; object-fit: contain; }

        #countdown { font-size: 2.5em; color: var(--red-love); margin-top: 30px; font-weight: bold; text-shadow: 0 0 10px rgba(230,0,0,0.5);}

        /* --- Animations --- */
        .rain-heart { position: absolute; color: var(--red-love); opacity: 0.6; animation: fall linear forwards; text-shadow: 0 0 5px rgba(230,0,0,0.8);}
        @keyframes fall { to { transform: translateY(105vh) rotate(360deg); } }
        .firework-particle { position: absolute; width: 4px; height: 4px; border-radius: 50%; animation: explode 1s ease-out forwards; }
        @keyframes explode { to { transform: translate(var(--tx), var(--ty)); opacity: 0; } }

    </style>
</head>
<body>

    <div id="effects-container"></div>

    <div id="custom-alert-overlay" class="modal-overlay">
        <div id="custom-alert-box" class="modal-content">
            <h1 id="custom-alert-text" class="huge-notice-text">Notice</h1>
            <button class="btn" onclick="closeCustomAlert()">OK</button>
        </div>
    </div>

    <div id="page-login" class="page active">
        <h1>Login to My Heart</h1>
        <div style="width: 100%; padding: 20px 0;">
            <p style="font-size: 1.4em; color: var(--text-dim);">It's your real age, don't lie again.</p>
            <input type="password" id="passwordInput" placeholder="Enter Password">
            <br>
            <button class="btn" onclick="checkLogin()" style="font-size: 1.5em; padding: 15px 50px;">Enter</button>
        </div>
    </div>

    <div id="page-greeting" class="page">
        <h1>HAPPY VALENTINES BABE!!!</h1>
        <h2>Will you be my valentine??</h2>
        <div>
            <button class="heart-btn" onclick="goToPage('page-gifts')">YES</button>
            <button class="heart-btn" onclick="goToPage('page-gifts')">YES</button>
        </div>
    </div>

    <div id="page-gifts" class="page">
        <button class="back-btn" onclick="goBack('page-greeting')">← Back</button>
        <h1>GREAT! Now choose your gift.</h1>
        <p class="subtitle">One choice. No redos.</p>
        <div class="flex-row">
            <div class="gift-box" onclick="chooseGift(1, this)"><img src="site/gift.png" alt="Gift 1"></div>
            <div class="gift-box" onclick="chooseGift(2, this)"><img src="site/gift.png" alt="Gift 2"></div>
            <div class="gift-box" onclick="chooseGift(3, this)"><img src="site/gift.png" alt="Gift 3"></div>
        </div>
    </div>

    <div id="p1-flower-reveal" class="page">
        <button class="back-btn" onclick="goBack('page-gifts')">← Back</button>
        <h1>A Flower for You!</h1>
        <button class="btn" onclick="showGenericSurprise('p1-flower-img-holder', 'site/flower.png')">Click for Surprise</button>
        <div id="p1-flower-img-holder" class="img-container" style="display:none;"></div>
        <br>
        <button class="btn" onclick="goToPage('p1-envelopes')">Read My Letters</button>
    </div>

    <div id="p1-envelopes" class="page">
        <button class="back-btn" onclick="goBack('p1-flower-reveal')">← Back</button>
        <h1>Open Your Messages</h1>
        <div class="flex-row">
            <div class="envelope-wrapper" onclick="this.classList.add('open')">
                <div class="env-flap"></div>
                <div class="env-pocket"></div>
                <div class="env-letter">Ever since we started talking, not a single night has passed without you being the last thing on my mind before i fall asleep</div>
            </div>
            <div class="envelope-wrapper" onclick="this.classList.add('open')">
                <div class="env-flap"></div>
                <div class="env-pocket"></div>
                <div class="env-letter">I used to want to see the world, but after meeting you, I realized you are my world. You are a beautiful gift, and I want to spend my life exploring every part of you.</div>
            </div>
            <div class="envelope-wrapper" onclick="this.classList.add('open')">
                <div class="env-flap"></div>
                <div class="env-pocket"></div>
                <div class="env-letter">I used to think brown was just a simple color, but then I saw it sparkle with your laugh. Now, I’m convinced your eyes were made of starlight and pure trouble.</div>
            </div>
        </div>
        <button class="btn" style="margin-top: 30px;" onclick="goToAnniversary()">See The Future</button>
    </div>


    <div id="p2-heart-reveal" class="page">
        <button class="back-btn" onclick="goBack('page-gifts')">← Back</button>
        <div class="img-container">
            <img src="site/heart1.png" alt="Heart Pop up">
        </div>
        <p class="subtitle">My heart for you</p>

        <button class="btn" onclick="showGenericSurprise('p2-cert-holder', 'site/cert.png'); document.getElementById('p2-cert-sub').style.display='block'">Click for Surprise</button>
        <div id="p2-cert-holder" class="img-container" style="display:none; margin-bottom: 5px;"></div>
        <p id="p2-cert-sub" class="subtitle" style="display:none; margin-top: 0;">You already have the original. This is just the digital confirmation. Don’t lose this document.</p>
        <br>
        <button class="btn" onclick="setupGame()">Start The Challenge</button>
    </div>

    <div id="p2-game" class="page">
        <button class="back-btn" onclick="goBack('p2-heart-reveal')">← Back</button>
        <h1>Challenge: Find where am I?</h1>
        <div class="flex-row" id="game-container">
            </div>
    </div>


    <div id="p3-married-reveal" class="page">
        <button class="back-btn" onclick="goBack('page-gifts')">← Back</button>
        <h1>Congrats! We are getting married!</h1>
        <div class="img-container">
            <img src="site/us1.png" alt="Us">
        </div>
        <button class="btn" onclick="goToPage('p3-proposal')">The Big Question...</button>
    </div>

    <div id="p3-proposal" class="page">
        <button class="back-btn" onclick="goBack('p3-married-reveal')">← Back</button>
        <div class="big-proposal-pic">
            <img src="site/us2.png" alt="Proposal Pic">
        </div>
        
        <h1 style="font-size: 3.5em; margin-top: 20px;">WILL YOU MARRY ME?</h1>
        <div>
             <button class="heart-btn" onclick="showModal('modal-sure')">YES</button>
             <button class="heart-btn" onclick="showModal('modal-sure')">YES</button>
        </div>
    </div>

    <div id="modal-sure" class="modal-overlay">
        <div class="modal-content">
            <p class="huge-notice-text">Are you sure???</p>
            <div style="margin-top: 30px;">
                <button class="btn" style="font-size: 1.5em; padding: 15px 40px;" onclick="goToAnniversary(); hideModal('modal-sure')">YES</button>
                <button class="btn" style="font-size: 1.2em; padding: 10px 25px; background: transparent; border: 1px solid #555; color: #aaa;" onclick="triggerRejection()">NO</button>
            </div>
        </div>
    </div>

    <div id="broken-screen" class="ultra-big-img">
        <img src="site/broken.png" alt="Broken">
    </div>


    <div id="page-anniversary" class="page">
        <h1 style="font-size: 3.5em;">HAPPY 3rd ANNIVERSARY BABE!!</h1>
        <p style="font-size: 1.5em; color: var(--text-dim);">Our special day is coming...</p>
        <div id="countdown">Loading countdown...</div>
    </div>


    <script>
        /* --- Global Variables & Helper Functions --- */
        let giftChosen = false;
        let winningGameIndex = 1; // FIXED TO ALWAYS BE THE MIDDLE HEART (Index 1)
        let fireworksInterval;
        let customAlertCallback = null;

        // --- Custom Huge Alert System ---
        function showCustomAlert(text, callback = null) {
            document.getElementById('custom-alert-text').innerHTML = text;
            const overlay = document.getElementById('custom-alert-overlay');
            const box = document.getElementById('custom-alert-box');
            
            overlay.style.display = 'flex';
            setTimeout(() => {
                overlay.style.opacity = '1';
                box.style.transform = 'scale(1)';
            }, 10);
            
            customAlertCallback = callback;
        }

        function closeCustomAlert() {
            const overlay = document.getElementById('custom-alert-overlay');
            const box = document.getElementById('custom-alert-box');
            
            overlay.style.opacity = '0';
            box.style.transform = 'scale(0.7)';
            setTimeout(() => {
                overlay.style.display = 'none';
                if (customAlertCallback) customAlertCallback();
            }, 300);
        }

        function showModal(modalId) {
            const m = document.getElementById(modalId);
            m.style.display = 'flex';
            setTimeout(() => { m.style.opacity = '1'; m.querySelector('.modal-content').style.transform = 'scale(1)'; }, 10);
        }
        function hideModal(modalId) {
            const m = document.getElementById(modalId);
            m.style.opacity = '0';
            m.querySelector('.modal-content').style.transform = 'scale(0.7)';
            setTimeout(() => m.style.display = 'none', 300);
        }

        function goToPage(pageId) {
            document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
            document.getElementById(pageId).classList.add('active');
            document.getElementById(pageId).scrollTop = 0; 
        }

        // New function to handle going back
        function goBack(targetPageId) {
             // If going back to gifts page, we need to reset the selection state so they can choose again
             if(targetPageId === 'page-gifts') {
                 giftChosen = false;
                 document.querySelectorAll('.gift-box').forEach(box => box.classList.remove('disabled'));
             }
             goToPage(targetPageId);
        }


        function showGenericSurprise(containerId, imgSrc) {
            const container = document.getElementById(containerId);
            container.innerHTML = `<img src="${imgSrc}" alt="Surprise">`;
            container.style.display = 'block';
            setTimeout(() => { container.scrollIntoView({ behavior: "smooth", block: "end" }); }, 100);
        }

        /* --- Page 1: Login & Heart Rain --- */
        function checkLogin() {
            const password = document.getElementById('passwordInput').value;
            if (password === "22") {
                showCustomAlert("CORRECT.<br>FINALLY.", () => {
                    setTimeout(() => {
                        showCustomAlert("ACCESS GRANTED", () => {
                            goToPage('page-greeting');
                            stopHeartRain();
                        });
                    }, 300);
                });
            } else {
                showCustomAlert("Are we lying again???", () => {
                    document.getElementById('passwordInput').value = '';
                });
            }
        }

        let rainInterval;
        function startHeartRain() {
            const container = document.getElementById('effects-container');
            rainInterval = setInterval(() => {
                const heart = document.createElement('div');
                heart.classList.add('rain-heart');
                heart.innerHTML = '❤';
                heart.style.left = Math.random() * 100 + 'vw';
                heart.style.fontSize = (Math.random() * 25 + 15) + 'px';
                heart.style.animationDuration = (Math.random() * 4 + 3) + 's';
                container.appendChild(heart);
                setTimeout(() => heart.remove(), 6000);
            }, 200);
        }
        function stopHeartRain() {
             clearInterval(rainInterval);
             document.getElementById('effects-container').innerHTML = '';
        }
        startHeartRain();

        /* --- Page 3: Gift Selection --- */
        function chooseGift(giftNum, element) {
            if (giftChosen) return;
            giftChosen = true;
            document.querySelectorAll('.gift-box').forEach(box => box.classList.add('disabled'));
            element.classList.remove('disabled'); 
            setTimeout(() => {
                if (giftNum === 1) goToPage('p1-flower-reveal');
                if (giftNum === 2) goToPage('p2-heart-reveal');
                if (giftNum === 3) goToPage('p3-married-reveal');
            }, 600);
        }

        /* --- Path 2 Functions --- */
        function setupGame() {
            goToPage('p2-game');
            const container = document.getElementById('game-container');
            container.innerHTML = ''; 
            
            for (let i = 0; i < 3; i++) {
                const heartDiv = document.createElement('div');
                heartDiv.classList.add('game-heart');
                const img = document.createElement('img');
                img.src = 'site/heart2.png';
                heartDiv.appendChild(img);
                heartDiv.onclick = () => checkGameResult(i, heartDiv);
                container.appendChild(heartDiv);
            }
        }

        function checkGameResult(index, element) {
            if (index === winningGameIndex) {
                element.querySelector('img').src = 'site/div.png';
                setTimeout(() => {
                     showCustomAlert("You found me!", () => {
                         goToAnniversary();
                     });
                }, 400);
            } else {
                showCustomAlert("Try again! Back to start...", () => {
                    resetSite();
                });
            }
        }

        /* --- Path 3 Functions --- */
        function triggerRejection() {
            hideModal('modal-sure');
            const brokenScreen = document.getElementById('broken-screen');
            brokenScreen.style.display = 'block';
            setTimeout(() => {
                brokenScreen.style.display = 'none';
                resetSite();
            }, 3000); 
        }

        /* --- Final Anniversary Page Functions --- */
        function goToAnniversary() {
            goToPage('page-anniversary');
            startFireworks();
            startCountdown();
        }

        function startCountdown() {
            const now = new Date();
            let targetYear = now.getFullYear();
            let anniversaryDate = new Date(targetYear, 1, 18); 

            if (now > anniversaryDate) {
                targetYear++;
                anniversaryDate = new Date(targetYear, 1, 18);
            }

            const countdownEl = document.getElementById('countdown');

            const updateTimer = () => {
                const currentTime = new Date().getTime();
                const distance = anniversaryDate.getTime() - currentTime;

                if (distance < 0) {
                    countdownEl.innerHTML = "HAPPY ANNIVERSARY!";
                    return;
                }

                const days = Math.floor(distance / (1000 * 60 * 60 * 24));
                const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
                const seconds = Math.floor((distance % (1000 * 60)) / 1000);

                countdownEl.innerHTML = `${days}d ${hours}h ${minutes}m ${seconds}s`;
            };

            updateTimer(); 
            setInterval(updateTimer, 1000);
        }

        function startFireworks() {
            const container = document.getElementById('effects-container');
            container.innerHTML = ''; 
            
            fireworksInterval = setInterval(() => {
                const createParticle = (x, y) => {
                    const particle = document.createElement('div');
                    particle.classList.add('firework-particle');
                    particle.style.left = x + 'px';
                    particle.style.top = y + 'px';
                    particle.style.backgroundColor = ['#ff0000', '#ff4d4d', '#8b0000', '#ffffff'][Math.floor(Math.random()*4)];
                    const angle = Math.random() * Math.PI * 2;
                    const velocity = Math.random() * 120 + 50;
                    particle.style.setProperty('--tx', Math.cos(angle) * velocity + 'px');
                    particle.style.setProperty('--ty', Math.sin(angle) * velocity + 'px');
                    container.appendChild(particle);
                    setTimeout(() => particle.remove(), 1000);
                }

                const startX = Math.random() * window.innerWidth;
                const startY = Math.random() * window.innerHeight / 2; 
                for(let i=0; i<30; i++) {
                    createParticle(startX, startY);
                }
            }, 600);
        }

        function resetSite() {
             giftChosen = false;
             clearInterval(fireworksInterval);
             clearInterval(rainInterval);
             document.getElementById('effects-container').innerHTML = '';
             document.getElementById('passwordInput').value = '';
             
             document.querySelectorAll('.gift-box').forEach(box => box.classList.remove('disabled'));
             document.querySelectorAll('.envelope-wrapper').forEach(env => env.classList.remove('open'));
             document.getElementById('p1-flower-img-holder').style.display = 'none';
             document.getElementById('p2-cert-holder').style.display = 'none';
             document.getElementById('p2-cert-sub').style.display = 'none';

             goToPage('page-login');
             startHeartRain();
        }

    </script>
</body>
</html>